{"ast":null,"code":"// 메인페이지 드래그(스와이프) 배너 기능함수\n\nimport $ from \"jquery\";\nwindow.jQuery = $;\nrequire(\"jquery-ui-dist/jquery-ui\");\nrequire(\"jquery-ui-touch-punch/jquery.ui.touch-punch\");\nexport function dragBanner() {\n  // 드래그 기능넣기\n  // 대상:\n  // 슬라이드\n  const slide = $(\".slide\");\n  // 커버\n  const cover = $(\".cover\");\n  // 블릿\n  const indic = $(\".bindic li\");\n  //   console.log(indic);\n\n  // 드래그 기능넣기\n  slide.draggable({\n    axis: \"x\"\n  });\n\n  // 드래그가 끝났을때 슬라이드 위치\n  slide.on(\"dragstop\", () => {\n    // 광드래그 막기 커버\n    cover.show();\n\n    // 비교를 위한 윈도우 가로값\n    let winW = $(window).width();\n    // 현재 슬라이드 left값\n    let pos = slide.offset().left;\n    // 이동차이수 = 슬라이드위치값(양수) - 윈도우가로값\n    let diff = Math.abs(pos) - winW;\n    // 결과해석: 양수->왼쪽으로 이동/음수->오른쪽으로 이동\n\n    // 기준값 : 화면크기를 기준한 부분\n    let gap = winW / 10;\n    // console.log(\"드래그 멈춤!\", pos, winW, diff);\n\n    // 왼쪽으로 이동하기 ///////////////\n    if (diff > gap) {\n      slide.animate({\n        left: \"-200%\"\n      }, 800, \"easeOutQuint\", () => {\n        // 맨앞li 맨뒤로 이동\n        slide.append(slide.find(\"li\").first())\n        // left값 -100%(처음값)\n        .css({\n          left: \"-100%\"\n        });\n        // 커버제거\n        cover.hide();\n        // 글자등장함수 호출\n        showTit();\n      });\n    }\n    // 오른쪽으로 이동하기 //////////////\n    else if (diff < -gap) {\n      slide.animate({\n        left: \"0\"\n      }, 800, \"easeOutQuint\", () => {\n        // 맨뒤li 맨앞으로 이동\n        slide.prepend(slide.find(\"li\").last())\n        // left값 -100%(처음값)\n        .css({\n          left: \"-100%\"\n        });\n        // 커버제거\n        cover.hide();\n        // 글자등장함수 호출\n        showTit();\n      });\n    }\n    // 제자리로 ////\n    else {\n      slide.animate({\n        left: \"-100%\"\n      }, 300, \"easeOutQuint\", () => {\n        // 커버제거\n        cover.hide();\n      });\n    }\n\n    // 블릿변경함수호출\n    chgIndic(diff, gap);\n  }); /////////// dragstop /////////\n\n  //////// 블릿변경함수 /////////////\n  const chgIndic = (diff, gap) => {\n    // 블릿변경하기\n    // 현재 슬라이드 순번 알아오기\n    // -> 클래스명 'ban번호'로 되어 있음\n    // 마지막 순번만 잘라서 1을빼면 순번임!\n    // 선택순번 : gap값을 기준하여\n    let selSeq = diff > gap ? 2 : diff < -gap ? 0 : 1;\n    // diff가 양수면 2, diff가 음수면 0, 모두아니면 1\n    // 선택순번의 클래스\n    let selCls = slide.find(\"li\").eq(selSeq).attr(\"class\");\n    // console.log('클래스명:',selCls);\n\n    // 해당 슬라이드 순번 : 클래스명의 숫자 - 1\n    // -> 슬라이드 순번은 클래스명의 숫자 - 1\n    // Number() 숫자형변환 : 문자를 잘라서 문자형숫자임\n    // 그런데 요즘 브라우저는 이렇게 안해도 자동형변환하여 계산함!\n    let indicSeq = Number(selCls.substr(3)) - 1;\n    // console.log('블릿순번:',indicSeq);\n\n    // 해당순번 블릿 클래스 'on'넣기/ 나머지는 빼기\n    indic.eq(indicSeq).addClass(\"on\").siblings().removeClass(\"on\");\n  }; ////////// chgIndic 함수 ///////\n\n  ///////////////////////////////////////\n  ////// 각 배너 등장 타이틀 셋팅 /////////\n  ///////////////////////////////////////\n  let banTxt = {\n    ban1: \"Men's Season<br>Collection\",\n    ban2: \"2023 Special<br>Collection\",\n    ban3: \"GongYoo<br>Collection\",\n    ban4: \"T-Shirt<br>Collection\",\n    ban5: \"Shoes<br>Collection\",\n    ban6: \"Wind Jacket<br>Collection\"\n  }; ///////////// banTxt객체 //////////////\n\n  ///////// 배너 글자등장 함수 /////////\n  const showTit = () => {\n    // 항상 이동후 배너는 1번째 순번이 주인공!\n    const currBan = slide.find(\"li\").eq(1);\n\n    // 현재 배너 클래스 읽기\n    const currCls = currBan.attr(\"class\");\n\n    // console.log(\"글자등장~~~!\", banTxt[currCls]);\n\n    // 기존h2태그는 삭제\n    $('.btit').remove();\n\n    // 타이틀을 현재 배너에 추가함\n    currBan.append(`<h2 class=\"btit\">${banTxt[currCls]}</h2>`);\n\n    // 타이틀 left위치 변수처리\n    // ban2, ban3만 오른쪽위치\n    let leftVal = \"30%\";\n    if (currCls === \"ban2\" || currCls === \"ban3\") leftVal = \"70%\";\n\n    // css/ animate 코드\n    currBan.find('.btit').css({\n      position: \"absolute\",\n      top: \"55%\",\n      // 약간아래\n      left: leftVal,\n      transform: \"translate(-50%,-50%)\",\n      font: \"bold 4.5vmax Verdana\",\n      color: \"#fff\",\n      textShadow: \"1px 1px 3px #777\",\n      whiteSpace: \"nowrap\",\n      opacity: 0 // 처음에 투명\n    }).animate({\n      top: \"50%\",\n      opacity: 1\n    }, 1000, 'easeInOutQuart');\n  }; ///////////// showTit 함수 /////////\n\n  // 첫배너 등장호출\n  setTimeout(showTit, 1000);\n} /////////// dragBanner 함수 //////////////","map":{"version":3,"names":["$","window","jQuery","require","dragBanner","slide","cover","indic","draggable","axis","on","show","winW","width","pos","offset","left","diff","Math","abs","gap","animate","append","find","first","css","hide","showTit","prepend","last","chgIndic","selSeq","selCls","eq","attr","indicSeq","Number","substr","addClass","siblings","removeClass","banTxt","ban1","ban2","ban3","ban4","ban5","ban6","currBan","currCls","remove","leftVal","position","top","transform","font","color","textShadow","whiteSpace","opacity","setTimeout"],"sources":["d:/GitYush/FED-RF-2023-YUSH/999.개인 프로젝트2/02.구현코드/tt-app/src/func/drag_banner.js"],"sourcesContent":["// 메인페이지 드래그(스와이프) 배너 기능함수\r\n\r\nimport $ from \"jquery\";\r\nwindow.jQuery = $;\r\nrequire(\"jquery-ui-dist/jquery-ui\");\r\nrequire(\"jquery-ui-touch-punch/jquery.ui.touch-punch\");\r\n\r\nexport function dragBanner() {\r\n  // 드래그 기능넣기\r\n  // 대상:\r\n  // 슬라이드\r\n  const slide = $(\".slide\");\r\n  // 커버\r\n  const cover = $(\".cover\");\r\n  // 블릿\r\n  const indic = $(\".bindic li\");\r\n  //   console.log(indic);\r\n\r\n  // 드래그 기능넣기\r\n  slide.draggable({ axis: \"x\" });\r\n\r\n  // 드래그가 끝났을때 슬라이드 위치\r\n  slide.on(\"dragstop\", () => {\r\n    // 광드래그 막기 커버\r\n    cover.show();\r\n\r\n    // 비교를 위한 윈도우 가로값\r\n    let winW = $(window).width();\r\n    // 현재 슬라이드 left값\r\n    let pos = slide.offset().left;\r\n    // 이동차이수 = 슬라이드위치값(양수) - 윈도우가로값\r\n    let diff = Math.abs(pos) - winW;\r\n    // 결과해석: 양수->왼쪽으로 이동/음수->오른쪽으로 이동\r\n\r\n    // 기준값 : 화면크기를 기준한 부분\r\n    let gap = winW / 10;\r\n    // console.log(\"드래그 멈춤!\", pos, winW, diff);\r\n\r\n    // 왼쪽으로 이동하기 ///////////////\r\n    if (diff > gap) {\r\n      slide.animate({ left: \"-200%\" }, 800, \"easeOutQuint\", () => {\r\n        // 맨앞li 맨뒤로 이동\r\n        slide\r\n          .append(slide.find(\"li\").first())\r\n          // left값 -100%(처음값)\r\n          .css({ left: \"-100%\" });\r\n        // 커버제거\r\n        cover.hide();\r\n        // 글자등장함수 호출\r\n        showTit();\r\n      });\r\n    }\r\n    // 오른쪽으로 이동하기 //////////////\r\n    else if (diff < -gap) {\r\n      slide.animate({ left: \"0\" }, 800, \"easeOutQuint\", () => {\r\n        // 맨뒤li 맨앞으로 이동\r\n        slide\r\n          .prepend(slide.find(\"li\").last())\r\n          // left값 -100%(처음값)\r\n          .css({ left: \"-100%\" });\r\n        // 커버제거\r\n        cover.hide();\r\n        // 글자등장함수 호출\r\n        showTit();\r\n      });\r\n    }\r\n    // 제자리로 ////\r\n    else {\r\n      slide.animate({ left: \"-100%\" }, 300, \"easeOutQuint\", () => {\r\n        // 커버제거\r\n        cover.hide();\r\n      });\r\n    }\r\n\r\n    // 블릿변경함수호출\r\n    chgIndic(diff, gap);\r\n  }); /////////// dragstop /////////\r\n\r\n  //////// 블릿변경함수 /////////////\r\n  const chgIndic = (diff, gap) => {\r\n    // 블릿변경하기\r\n    // 현재 슬라이드 순번 알아오기\r\n    // -> 클래스명 'ban번호'로 되어 있음\r\n    // 마지막 순번만 잘라서 1을빼면 순번임!\r\n    // 선택순번 : gap값을 기준하여\r\n    let selSeq = diff > gap ? 2 : diff < -gap ? 0 : 1;\r\n    // diff가 양수면 2, diff가 음수면 0, 모두아니면 1\r\n    // 선택순번의 클래스\r\n    let selCls = slide.find(\"li\").eq(selSeq).attr(\"class\");\r\n    // console.log('클래스명:',selCls);\r\n\r\n    // 해당 슬라이드 순번 : 클래스명의 숫자 - 1\r\n    // -> 슬라이드 순번은 클래스명의 숫자 - 1\r\n    // Number() 숫자형변환 : 문자를 잘라서 문자형숫자임\r\n    // 그런데 요즘 브라우저는 이렇게 안해도 자동형변환하여 계산함!\r\n    let indicSeq = Number(selCls.substr(3)) - 1;\r\n    // console.log('블릿순번:',indicSeq);\r\n\r\n    // 해당순번 블릿 클래스 'on'넣기/ 나머지는 빼기\r\n    indic.eq(indicSeq).addClass(\"on\").siblings().removeClass(\"on\");\r\n  }; ////////// chgIndic 함수 ///////\r\n\r\n  ///////////////////////////////////////\r\n  ////// 각 배너 등장 타이틀 셋팅 /////////\r\n  ///////////////////////////////////////\r\n  let banTxt = {\r\n    ban1: \"Men's Season<br>Collection\",\r\n    ban2: \"2023 Special<br>Collection\",\r\n    ban3: \"GongYoo<br>Collection\",\r\n    ban4: \"T-Shirt<br>Collection\",\r\n    ban5: \"Shoes<br>Collection\",\r\n    ban6: \"Wind Jacket<br>Collection\",\r\n  }; ///////////// banTxt객체 //////////////\r\n\r\n  ///////// 배너 글자등장 함수 /////////\r\n  const showTit = () => {\r\n    // 항상 이동후 배너는 1번째 순번이 주인공!\r\n    const currBan = slide.find(\"li\").eq(1);\r\n\r\n    // 현재 배너 클래스 읽기\r\n    const currCls = currBan.attr(\"class\");\r\n\r\n    // console.log(\"글자등장~~~!\", banTxt[currCls]);\r\n\r\n    // 기존h2태그는 삭제\r\n    $('.btit').remove();\r\n\r\n    // 타이틀을 현재 배너에 추가함\r\n    currBan.append(`<h2 class=\"btit\">${banTxt[currCls]}</h2>`);\r\n\r\n    // 타이틀 left위치 변수처리\r\n    // ban2, ban3만 오른쪽위치\r\n    let leftVal = \"30%\";\r\n    if (currCls === \"ban2\" || currCls === \"ban3\") leftVal = \"70%\";\r\n\r\n    // css/ animate 코드\r\n    currBan.find('.btit')\r\n    .css({        \r\n        position: \"absolute\",\r\n        top: \"55%\", // 약간아래\r\n        left: leftVal,\r\n        transform: \"translate(-50%,-50%)\",\r\n        font: \"bold 4.5vmax Verdana\",\r\n        color: \"#fff\",\r\n        textShadow: \"1px 1px 3px #777\",\r\n        whiteSpace: \"nowrap\",\r\n        opacity: 0, // 처음에 투명\r\n    })\r\n    .animate({\r\n        top:\"50%\",\r\n        opacity: 1\r\n    },1000,'easeInOutQuart');\r\n  }; ///////////// showTit 함수 /////////\r\n\r\n\r\n  // 첫배너 등장호출\r\n  setTimeout(showTit, 1000);\r\n\r\n} /////////// dragBanner 함수 //////////////\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}